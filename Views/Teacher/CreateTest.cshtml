@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "~/Views/Shared/_LayoutTeacher.cshtml";
}
@model List<QuestionModel>
<div class="contain-content">
<form asp-action="Create">
    <div class="form-group" id="form-group">
    </div>
    <ul>
        <li>
            <button class="btn" type="button" id="addQuestion">Add a Question</button>
        </li>
        <li>
            <input type="submit" />
        </li>
    </ul>
</form>
</div>

@section Scripts {
    <script>
        var answerIndex = 0;
        var questionIndex = 0;

        $('#addAnswer').click(function () {
            const cont = document.getElementById('q['+questionIndex+']')

            var answerField = '<input type="text" name="Answers[' + questionIndex + '].Answer' + answerIndex + '" />';
            answerIndex++;
            $(cont).appendTo(answerField);
        });

        $('#addQuestion').click(function () {
            const cont = document.getElementById("form-group")
            var questionField = '<div id="q['+questionIndex+']"> <label>Вопрос</label> ' +
                ' <input type="text" name="Questions[' + questionIndex + '].Question" /> </div> ' +
                '<button type="button" class="addAnswerToQuestion">Add an Answer</button>';
            questionIndex++;

            $(cont).append(questionField);
        });

        $(document).on('click', '.addAnswerToQuestion', function () {
            var answerField = '<input type="text" name="Answers[' + (questionIndex - 1) + '].Answer' + answerIndex + '" />';
            answerIndex++;
            $(this).before(answerField);
        });
    </script>
}